(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d2b3cc"],{"57b9":function(e,t,n){"use strict";n("9ac7")},"9ac7":function(e,t,n){},d402:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"search-term"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchInfo}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("刷新")])],1),e.tableData&&0===e.tableData.length?n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.openDialog}},[e._v("新增职级申报")])],1):e._e()],1)],1),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"日期",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.CreatedAt)))]}}])}),n("el-table-column",{attrs:{label:"姓名",prop:"xingming",width:"120"}}),n("el-table-column",{attrs:{label:"性别",prop:"xingbie",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.filterDict(t.row.xingbie,"sex"))+" ")]}}])}),n("el-table-column",{attrs:{label:"单位",prop:"danwei",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.filterDict(t.row.danwei,"danwei"))+" ")]}}])}),n("el-table-column",{attrs:{label:"部门",prop:"bumen",width:"120"}}),n("el-table-column",{attrs:{label:"申报年度",prop:"shenbaoniandu",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.filterDict(t.row.shenbaoniandu,"shenbaoniandu"))+" ")]}}])}),n("el-table-column",{attrs:{label:"当前状态",prop:"jinduzhuangtai",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:{"red-mark":[40,50,70,80,100,110,170].indexOf(t.row.jinduzhuangtai)>-1}},[e._v(e._s(e.filterDict(t.row.jinduzhuangtai,"zhijishenbaozhuangtai")))]),"development"===e.nodeEnv?n("span",{staticStyle:{color:"red"}},[e._v(" --\x3e"+e._s(e.filterDictDes(t.row.jinduzhuangtai,"zhijishenbaozhuangtai")))]):e._e()]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"table-button",attrs:{size:"small",type:"primary",icon:"el-icon-view"},on:{click:function(n){return e.lookZhijishenbao(t.row)}}},[e._v("查看")]),n("el-button",{staticClass:"table-button",attrs:{disabled:-1===[10,50,80,110].indexOf(t.row.jinduzhuangtai),size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(n){return e.updateZhijishenbao(t.row)}}},[e._v("修改")])]}}])})],1),n("el-pagination",{style:{float:"right",padding:"20px"},attrs:{"current-page":e.page,"page-size":e.pageSize,"page-sizes":[10,30,50,100],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),n("zhijishenbaoForm",{ref:"dialogForm",on:{getTableData:e.getTableData}})],1)},i=[],r=n("1da1"),o=n("5530"),s=(n("96cf"),n("d81d"),n("0912")),l=n("c466"),c=n("a4a2"),u=n("5880"),h=n("1cbc"),d=n("101d"),b={name:"Zhijishenbao",mixins:[c["default"]],components:{zhijishenbaoForm:h["default"]},computed:Object(o["a"])({},Object(u["mapGetters"])("user",["userInfo","token"])),data:function(){return{listApi:s["getZhijishenbaoList"],deleteVisible:!1,multipleSelection:[],sexOptions:[],minzuOptions:[],danweiOptions:[],shenbaonianduOptions:[],shenbaofangshiOptions:[],zhichengdengjiOptions:[{value:"获奖",label:"获奖"},{value:"职称",label:"职称"}],boolOptions:[],wenhuachengduOptions:[],xuelixueweiOptions:[],zhijishenbaoshenheleixingOptions:[],zhijishenbaozhuangtaiOptions:[],nodeEnv:"production"}},filters:{formatDate:function(e){if(null!=e&&""!=e){var t=new Date(e);return Object(l["formatTimeToStr"])(t,"yyyy-MM-dd")}return""},formatBoolean:function(e){return null!=e?e?"是":"否":""}},methods:{onSubmit:function(){this.page=1,this.pageSize=10,this.getTableData()},handleSelectionChange:function(e){this.multipleSelection=e},deleteRow:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteZhijishenbao(e)}))},onDelete:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=[],0!=e.multipleSelection.length){t.next=4;break}return e.$message({type:"warning",message:"请选择要删除的数据"}),t.abrupt("return");case 4:return e.multipleSelection&&e.multipleSelection.map((function(e){n.push(e.ID)})),t.next=7,Object(s["deleteZhijishenbaoByIds"])({ids:n});case 7:a=t.sent,0==a.code&&(e.$message({type:"success",message:"删除成功"}),e.tableData.length==n.length&&e.page--,e.deleteVisible=!1,e.getTableData());case 9:case"end":return t.stop()}}),t)})))()},openDialog:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isZhijiAdmin){t.next=7;break}return t.next=3,Object(d["canOpenShenbao"])();case 3:n=t.sent,n&&(e.dialogFormVisible=!0,e.$nextTick((function(){e.$refs.dialogForm.createDialog()}))),t.next=8;break;case 7:e.$message.warning("新增申报日期已过，不允许新增");case 8:case"end":return t.stop()}}),t)})))()},updateZhijishenbao:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(d["canOpenShenbao"])();case 2:if(a=n.sent,!a){n.next=8;break}return n.next=6,Object(s["findZhijishenbao"])({ID:e.ID});case 6:i=n.sent,0===i.code&&(t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs.dialogForm.updateDialog(i.data.rezhijishenbao)})));case 8:case"end":return n.stop()}}),n)})))()},lookZhijishenbao:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["findZhijishenbao"])({ID:e.ID});case 2:a=n.sent,0===a.code&&(t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs.dialogForm.lookDialog(a.data.rezhijishenbao)})));case 4:case"end":return n.stop()}}),n)})))()},deleteZhijishenbao:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["deleteZhijishenbao"])({ID:e.ID});case 2:a=n.sent,0==a.code&&(t.$message({type:"success",message:"删除成功"}),1==t.tableData.length&&t.page--,t.getTableData());case 4:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTableData();case 2:return t.next=4,e.getDict("sex");case 4:return t.next=6,e.getDict("danwei");case 6:return t.next=8,e.getDict("shenbaoniandu");case 8:return t.next=10,e.getDict("bool");case 10:return t.next=12,e.getDict("zhijishenbaoshenheleixing");case 12:return t.next=14,e.getDict("zhijishenbaozhuangtai");case 14:case"end":return t.stop()}}),t)})))()}},p=b,f=(n("57b9"),n("2877")),g=Object(f["a"])(p,a,i,!1,null,null,null);t["default"]=g.exports}}]);